"use strict";(self.webpackChunkblog_atalaya_frontend=self.webpackChunkblog_atalaya_frontend||[]).push([[24],{9691:function(t,n,e){e(2791);n.Z=e.p+"static/media/atalaya.0b5c54a151d66651b209ef79de7d5225.svg"},6024:function(t,n,e){e.r(n),e.d(n,{default:function(){return w}});var r,a=e(1413),o=e(885),s=e(2791),i=e(168),d=e(954).ZP.div(r||(r=(0,i.Z)(["\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\t.box-recovery {\n\t\tpadding: 5rem 4rem;\n\t\tmargin: auto;\n\t\tbackground: #fff;\n\t\twidth: 100%;\n\t\tmax-width: 425px;\n\t\tbox-shadow: 0px 0px 10px #000000b3;\n\t\tborder-radius: 1rem;\n\t}\n\t.box-logo {\n\t\ttext-align: center;\n\t\t> img {\n\t\t\twidth: 220px;\n\t\t}\n\t}\n\th3 {\n\t\tfont-size: 1.8rem;\n\t\tcolor: #0b2370;\n\t\tpadding: 5rem 0 1rem;\n\t}\n\tinput {\n\t\twidth: 100%;\n\t\tborder: 1px solid #dddddd;\n\t\tborder-radius: 9px;\n\t\tpadding: 1rem;\n\t\tmargin-top: 1rem;\n\t}\n\t.error-message {\n\t\tpadding: 0.5rem;\n\t\tcolor: red;\n\t}\n\t.label-password {\n\t\tpadding-top: 1.5rem;\n\t\tcolor: #000000b3;\n\t\tfont-size: 1.3rem;\n\t\tfont-weight: bold;\n\t}\n\t.box-next {\n\t\ttext-align: end;\n\t\tpadding: 1rem 0;\n\t\tposition: relative;\n\t\tbutton {\n\t\t\tposition: relative;\n\t\t\tborder: 2px solid #0b2370;\n\t\t\tborder-radius: 5px;\n\t\t\twidth: 172px;\n\t\t\theight: 43px;\n\t\t\tcolor: #0b2370;\n\t\t\tfont-size: 1.5rem;\n\t\t\tfont-weight: bold;\n\t\t\ttransition: background-color 0.5s linear;\n\t\t\tpointer-events: ",";\n\t\t\t&:hover {\n\t\t\t\tbackground-color: #0b2370;\n\t\t\t\tcolor: #fff;\n\t\t\t\tcursor: pointer;\n\t\t\t\t.box-loading::after {\n\t\t\t\t\tborder-top-color: #fff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.box-loading {\n\t\t\t::after {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tpadding: 5;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tborder: 4px solid transparent;\n\t\t\t\tborder-top-color: #0b2370;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tanimation: button-loading-spinner 1s ease infinite;\n\t\t\t}\n\t\t}\n\t}\n\n\t.box-sent-email {\n\t\tpadding: 2rem 0 1rem 0;\n\t\t.text-message {\n\t\t\tfont-size: 1.5rem;\n\t\t\tcolor: #0b2370;\n\t\t}\n\t}\n\t@keyframes button-loading-spinner {\n\t\tfrom {\n\t\t\ttransform: rotate(0turn);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(1turn);\n\t\t}\n\t}\n"])),(function(t){return t.state?"none":"auto"})),c=e(9691),l=e(2797),p=e(1134),u=e(1265),m=(e(4052),e(3504)),f=e(6030),x=e(1549),b=e(9673),h=e(184),g=l.Ry({passwordNew:l.Z_().trim("La contrase\xf1a no puede incluir espacios iniciales y finales").strict(!0).min(8,"La contrase\xf1a debe tener al menos 8 caracteres").max(255,"La contrase\xf1a no puede exceder los 255 caracteres").required("La contrase\xf1a es requerida"),passwordConfirmation:l.Z_().oneOf([l.iH("passwordNew"),null],"Las contrase\xf1as deben coincidir")}),w=function(){var t,n,e=(0,f.I0)(),r=(0,s.useState)(""),i=(0,o.Z)(r,2),l=i[0],w=i[1],v=(0,p.cI)({resolver:(0,u.X)(g)}),y=v.register,N=v.handleSubmit,j=v.formState.errors,C=(0,f.v9)((function(t){return t.auth})),k=C.loading,Z=C.updatedPassword,_=(0,m.lr)(),E=(0,o.Z)(_,1)[0];return(0,s.useEffect)((function(){w(E.get("token")),e({type:b.AUTH_RECOVERY_INITIALIZED})}),[]),(0,h.jsx)(d,{state:k,children:(0,h.jsxs)("div",{className:"box-recovery",children:[(0,h.jsx)("div",{className:"box-logo",children:(0,h.jsx)("img",{src:c.Z,alt:""})}),(0,h.jsx)("form",{onSubmit:N((function(t){var n=t.passwordNew;e((0,x.Y)({newPassword:n,token:l}))})),children:Z?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{children:"Contrase\xf1a actualizada"}),(0,h.jsx)("div",{className:"box-sent-email",children:(0,h.jsx)("p",{className:"text-message",children:"La contrase\xf1a de su cuenta ha sido actualizada correctamente."})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{children:"Actualiza tu contrase\xf1a"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"label-password",children:"Nueva Contrase\xf1a"}),(0,h.jsx)("input",(0,a.Z)((0,a.Z)({},y&&(0,a.Z)({},y("passwordNew"))),{},{name:"passwordNew",type:"password",autoComplete:"false"})),(0,h.jsx)("div",{className:"container-message",children:j&&(0,h.jsx)("p",{className:"error-message",children:null===j||void 0===j||null===(t=j.passwordNew)||void 0===t?void 0:t.message})}),(0,h.jsx)("p",{className:"label-password",children:"Confirmar Contrase\xf1a"}),(0,h.jsx)("input",(0,a.Z)((0,a.Z)({},y&&(0,a.Z)({},y("passwordConfirmation"))),{},{type:"password",name:"passwordConfirmation",autoComplete:"false"})),j&&(0,h.jsx)("p",{className:"error-message",children:null===j||void 0===j||null===(n=j.passwordConfirmation)||void 0===n?void 0:n.message})]}),(0,h.jsx)("div",{className:"box-next",children:(0,h.jsx)("button",{type:"submit",className:"button-loading",children:k?(0,h.jsx)("span",{className:"box-loading"}):(0,h.jsx)("span",{children:"Siguiente"})})})]})})]})})}},1549:function(t,n,e){e.d(n,{W:function(){return m},Y:function(){return f}});var r=e(5861),a=e(7757),o=e.n(a),s=e(4569),i=e.n(s),d=e(9673),c=d.AUTH_RECOVERY_LOADING,l=d.AUTH_RECOVERY_SUCCESS,p=d.AUTH_RECOVERY_ERROR,u=d.SNACKBAR_OPEN,m=(d.LOGOUT,function(t,n){return function(){var e=(0,r.Z)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:c}),e.next=4,i().post("/api/v1/auth/recovery",{client:n,email:t});case 4:r({type:l,email:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:u,message:"Not authorized",navType:"error"}),r({type:p});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),f=function(t){return function(){var n=(0,r.Z)(o().mark((function n(e){var r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:c}),r=t.token,a=t.newPassword,n.next=5,i().post("/api/v1/auth/change-password-token",{token:r,newPassword:a});case 5:e({type:l,updatedPassword:!0}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),e({type:u,message:"Not authorized",navType:"error"}),e({type:p});case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=24.487489fe.chunk.js.map