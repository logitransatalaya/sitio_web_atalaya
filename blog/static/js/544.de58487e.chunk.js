"use strict";(self.webpackChunkblog_atalaya_frontend=self.webpackChunkblog_atalaya_frontend||[]).push([[544],{9691:function(t,n,e){e(2791);n.Z=e.p+"static/media/atalaya.0b5c54a151d66651b209ef79de7d5225.svg"},3544:function(t,n,e){e.r(n),e.d(n,{default:function(){return b}});var r,o=e(1413),a=e(2791),i=e(168),s=e(954).ZP.div(r||(r=(0,i.Z)(["\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\t.box-recovery {\n\t\tpadding: 5rem 4rem;\n\t\tmargin: auto;\n\t\tbackground: #fff;\n\t\twidth: 100%;\n\t\tmax-width: 425px;\n\t\tbox-shadow: 0px 0px 10px #000000b3;\n\t\tborder-radius: 1rem;\n\t}\n\t.box-logo {\n\t\ttext-align: center;\n\t\t> img {\n\t\t\twidth: 220px;\n\t\t}\n\t}\n\th3 {\n\t\tfont-size: 1.8rem;\n\t\tcolor: #0b2370;\n\t\tpadding: 5rem 0 1rem;\n\t}\n\tinput {\n\t\twidth: 100%;\n\t\tborder: 1px solid #dddddd;\n\t\tborder-radius: 9px;\n\t\tpadding: 1rem;\n\t\tmargin-top: 1rem;\n\t}\n\t.error-message {\n\t\tpadding: 0.5rem;\n\t\tcolor: red;\n\t}\n\t.box-txt {\n\t\twidth: 100%;\n\n\t\tpadding: 2rem 0 1rem 0;\n\t\tp {\n\t\t\tcolor: #000000b3;\n\t\t\tfont-size: 1.3rem;\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n\t.box-next {\n\t\ttext-align: end;\n\t\tpadding: 1rem 0;\n\t\tposition: relative;\n\t\tbutton {\n\t\t\tposition: relative;\n\t\t\tborder: 2px solid #0b2370;\n\t\t\tborder-radius: 5px;\n\t\t\twidth: 172px;\n\t\t\theight: 43px;\n\t\t\tcolor: #0b2370;\n\t\t\tfont-size: 1.5rem;\n\t\t\tfont-weight: bold;\n\t\t\ttransition: background-color 0.5s linear;\n\t\t\tpointer-events: ",";\n\t\t\t&:hover {\n\t\t\t\tbackground-color: #0b2370;\n\t\t\t\tcolor: #fff;\n\t\t\t\tcursor: pointer;\n\t\t\t\t.box-loading::after {\n\t\t\t\t\tborder-top-color: #fff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.box-loading {\n\t\t\t::after {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tpadding: 5;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tborder: 4px solid transparent;\n\t\t\t\tborder-top-color: #0b2370;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tanimation: button-loading-spinner 1s ease infinite;\n\t\t\t}\n\t\t}\n\t}\n\n\t.box-sent-email {\n\t\tpadding: 2rem 0 1rem 0;\n\t\t.text-message {\n\t\t\tfont-size: 1.5rem;\n\t\t\tcolor: #0b2370;\n\t\t}\n\t}\n\t@keyframes button-loading-spinner {\n\t\tfrom {\n\t\t\ttransform: rotate(0turn);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(1turn);\n\t\t}\n\t}\n"])),(function(t){return t.state?"none":"auto"})),d=e(9691),c=e(2797),l=e(1134),u=e(1265),p=e(6030),m=e(1549),x=e(9673),f=e(184),h=c.Ry({email:c.Z_().email("Formato de usuario inv\xe1lido").required("El usuario es requerido")}),b=function(){var t,n=(0,p.I0)(),e=(0,l.cI)({resolver:(0,u.X)(h)}),r=e.register,i=e.handleSubmit,c=e.formState.errors,b=(0,p.v9)((function(t){return t.auth})),g=b.loading,v=b.email;return(0,a.useEffect)((function(){n({type:x.AUTH_RECOVERY_INITIALIZED})}),[]),(0,f.jsx)(s,{state:g,children:(0,f.jsxs)("div",{className:"box-recovery",children:[(0,f.jsx)("div",{className:"box-logo",children:(0,f.jsx)("img",{src:d.Z,alt:""})}),(0,f.jsx)("form",{onSubmit:i((function(t){var e=window.location.host;n((0,m.W)(t.email,e))})),children:v?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{children:"Correo electr\xf3nico enviado"}),(0,f.jsx)("div",{className:"box-sent-email",children:(0,f.jsxs)("p",{className:"text-message",children:["Hemos enviado un correo electr\xf3nico a"," ",v," con un enlace para que recuperes el acceso a tu cuenta."]})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{children:"Recupera tu cuenta"}),(0,f.jsx)("div",{className:"box-txt",children:(0,f.jsx)("p",{children:"Ingresa tu corrreo electronico."})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("input",(0,o.Z)((0,o.Z)({},r&&(0,o.Z)({},r("email"))),{},{placeholder:"Email",name:"email",type:"email"})),(0,f.jsx)("div",{className:"container-message",children:c&&(0,f.jsx)("p",{className:"error-message",children:null===c||void 0===c||null===(t=c.email)||void 0===t?void 0:t.message})})]}),(0,f.jsx)("div",{className:"box-next",children:(0,f.jsx)("button",{type:"submit",className:"button-loading",children:g?(0,f.jsx)("span",{className:"box-loading"}):(0,f.jsx)("span",{children:"Siguiente"})})})]})})]})})}},1549:function(t,n,e){e.d(n,{W:function(){return m},Y:function(){return x}});var r=e(5861),o=e(7757),a=e.n(o),i=e(4569),s=e.n(i),d=e(9673),c=d.AUTH_RECOVERY_LOADING,l=d.AUTH_RECOVERY_SUCCESS,u=d.AUTH_RECOVERY_ERROR,p=d.SNACKBAR_OPEN,m=(d.LOGOUT,function(t,n){return function(){var e=(0,r.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:c}),e.next=4,s().post("/api/v1/auth/recovery",{client:n,email:t});case 4:r({type:l,email:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:p,message:"Not authorized",navType:"error"}),r({type:u});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),x=function(t){return function(){var n=(0,r.Z)(a().mark((function n(e){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:c}),r=t.token,o=t.newPassword,n.next=5,s().post("/api/v1/auth/change-password-token",{token:r,newPassword:o});case 5:e({type:l,updatedPassword:!0}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),e({type:p,message:"Not authorized",navType:"error"}),e({type:u});case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=544.de58487e.chunk.js.map