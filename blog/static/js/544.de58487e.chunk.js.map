{"version":3,"file":"static/js/544.de58487e.chunk.js","mappings":"2IA2GA,IAAe,IAA0B,6D,qGCzG5BA,E,OAAeC,GAAAA,IAAH,4jEA2DJ,qBAAGC,MAAqB,OAAS,U,+ECnDhDC,EAASC,EAAAA,GAAW,CACzBC,MAAOD,EAAAA,KAELC,MAAM,kCACNC,SAAS,6BAoFZ,EAjFe,WAAO,IAAD,EACdC,GAAWC,EAAAA,EAAAA,MAEjB,GAIIC,EAAAA,EAAAA,IAAQ,CACXC,UAAUC,EAAAA,EAAAA,GAAYR,KAJtBS,EADD,EACCA,SACAC,EAFD,EAECA,aACaC,EAHd,EAGCC,UAAaD,OAId,GAA2BE,EAAAA,EAAAA,KAAY,SAACd,GAAD,OAAWA,EAAMe,QAAhDC,EAAR,EAAQA,QAASb,EAAjB,EAAiBA,MAWjB,OAJAc,EAAAA,EAAAA,YAAU,WACTZ,EAAS,CAAEa,KAAMC,EAAAA,8BACf,KAGF,SAACrB,EAAD,CAAcE,MAAOgB,EAArB,UACC,iBAAKI,UAAU,eAAf,WACC,gBAAKA,UAAU,WAAf,UACC,gBAAKC,IAAKC,EAAAA,EAAaC,IAAI,QAE5B,iBAAMC,SAAUb,GAfF,SAACc,GACjB,IAAIC,EAASC,OAAOC,SAASC,KAC7BxB,GAASyB,EAAAA,EAAAA,GAAgBL,EAAKtB,MAAOuB,OAanC,SACGvB,GAoCD,iCACC,2DACA,gBAAKiB,UAAU,iBAAf,UACC,eAAGA,UAAU,eAAb,qDACuC,IACrCjB,EAFF,oEAtCF,iCACC,gDACA,gBAAKiB,UAAU,UAAf,UACC,8DAED,4BACC,oCACMV,IAAQ,UAASA,EAAS,WADhC,IAECqB,YAAY,QACZC,KAAK,QACLd,KAAK,YAEN,gBAAKE,UAAU,oBAAf,SACER,IACA,cAAGQ,UAAU,gBAAb,gBACER,QADF,IACEA,GADF,UACEA,EAAQT,aADV,aACE,EAAe8B,gBAMpB,gBAAKb,UAAU,WAAf,UACC,mBACCF,KAAK,SACLE,UAAU,iBAFX,SAIEJ,GACA,iBAAMI,UAAU,iBAEhB,wD,gICzEV,EAMIc,EAAQ,MALXC,EADD,EACCA,sBACAC,EAFD,EAECA,sBACAC,EAHD,EAGCA,oBACAC,EAJD,EAICA,cAIKR,GARN,EAKCS,OAGuB,SAACpC,EAAOuB,GAAR,0CAAmB,WAAOrB,GAAP,iFAEzCA,EAAS,CAAEa,KAAMiB,IAFwB,SAInCK,IAAAA,KAAA,wBAAoC,CACzCd,OAAAA,EACAvB,MAAAA,IANwC,OASzCE,EAAS,CAAEa,KAAMkB,EAAuBjC,MAAAA,IATC,gDAWzCE,EAAS,CACRa,KAAMoB,EACNL,QAAS,iBACTQ,QAAS,UAEVpC,EAAS,CAAEa,KAAMmB,IAhBwB,yDAAnB,wDAoBlBK,EAAuB,SAACjB,GAAD,0CAAU,WAAOpB,GAAP,yFAErCA,EAAS,CAAEa,KAAMiB,IACXQ,EAAuBlB,EAAvBkB,MAAOC,EAAgBnB,EAAhBmB,YAHwB,SAI/BJ,IAAAA,KAAA,qCAAiD,CACtDG,MAAAA,EACAC,YAAAA,IANoC,OAQrCvC,EAAS,CAAEa,KAAMkB,EAAuBS,iBAAiB,IARpB,gDAUrCxC,EAAS,CACRa,KAAMoB,EACNL,QAAS,iBACTQ,QAAS,UAEVpC,EAAS,CAAEa,KAAMmB,IAfoB,yDAAV","sources":["assets/images/atalaya.svg","pages/Authentication/Forgot/Forgot.styles.js","pages/Authentication/Forgot/index.jsx","store/authApi.js"],"sourcesContent":["var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAtalaya(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 643.07 180.33\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#0b2370;}.cls-2{fill:url(#Degradado_sin_nombre_2);}.cls-3{fill:url(#Degradado_sin_nombre_2-2);}.cls-4{fill:url(#Degradado_sin_nombre_2-3);}.cls-5{fill:url(#Degradado_sin_nombre_2-4);}\"), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"Degradado_sin_nombre_2\",\n    x1: 464,\n    y1: 178.73,\n    x2: 638.22,\n    y2: 4.01,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#e55c1e\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.37,\n    stopColor: \"#e7651e\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#f3a61c\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"Degradado_sin_nombre_2-2\",\n    x1: 429.52,\n    y1: 144.34,\n    x2: 603.73,\n    y2: -30.37,\n    xlinkHref: \"#Degradado_sin_nombre_2\"\n  }), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"Degradado_sin_nombre_2-3\",\n    x1: 496.01,\n    y1: 210.64,\n    x2: 670.22,\n    y2: 35.93,\n    xlinkHref: \"#Degradado_sin_nombre_2\"\n  }), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"Degradado_sin_nombre_2-4\",\n    x1: 463.72,\n    y1: 178.45,\n    x2: 637.94,\n    y2: 3.73,\n    xlinkHref: \"#Degradado_sin_nombre_2\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Capa_2\",\n    \"data-name\": \"Capa 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"LOGO\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M55,116.88H44.25C41,110.58,30.9,90.74,27.52,84.12c-3.43,6.72-13.44,26.36-16.73,32.76H0c3-5.87,24-47.07,27.52-54C31.16,70.05,51.9,110.79,55,116.88Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M113.7,63v9.63H91.58V117H81.94V72.63H59.82V63Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M173.67,116.88H162.88c-3.24-6.3-13.35-26.14-16.73-32.76-3.43,6.72-13.44,26.36-16.73,32.76H118.63c3-5.87,24-47.07,27.52-54C149.79,70.05,170.53,110.79,173.67,116.88Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M236.19,107.33V117c-54.39,3.41-43.42-9.3-44.48-54h9.63C204,108.32,188.37,108.28,236.19,107.33Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M311.34,116.88H300.55c-3.24-6.3-13.35-26.14-16.73-32.76-3.43,6.72-13.44,26.36-16.73,32.76H256.3c3-5.87,24-47.07,27.52-54C287.46,70.05,308.2,110.79,311.34,116.88Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"cls-1\",\n    points: \"370.46 62.84 349.57 89.9 348.42 91.37 348.42 116.81 338.78 116.81 338.78 91.52 337.47 89.9 316.58 62.84 328.76 62.84 343.56 82.04 358.36 62.84 370.46 62.84\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M430.74,116.88H420c-3.24-6.3-13.35-26.14-16.73-32.76-3.43,6.72-13.44,26.36-16.73,32.76H375.7c3-5.87,24-47.07,27.52-54C406.86,70.05,427.6,110.79,430.74,116.88Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M564.38,159.8C476.63,159.32,446.86,43.17,521.68,0c-55.11,20.3-73.62,100-31.79,142.64,41.36,48.54,126.51,33.06,148.69-25.74A85.56,85.56,0,0,1,564.38,159.8Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-2\",\n    d: \"M487.82,148.4l-25.26,31.93,31.81-25.62A48.4,48.4,0,0,1,487.82,148.4Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-3\",\n    d: \"M552.82,21.83l-22,2.75L484.91,85a89.1,89.1,0,0,0,4.46,15.56L549,42.74Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-4\",\n    d: \"M552.64,140.58,542,152.12c2.37.86,4.79,1.62,7.24,2.29L637.2,87.87,643.07,67l-25.31,2.75Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-5\",\n    d: \"M643.07,1.65,600.15,6.42c-5.82,7.33-92,116-95.24,120a85.76,85.76,0,0,0,11.22,10.92L637.2,39.69Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAtalaya);\nexport default __webpack_public_path__ + \"static/media/atalaya.0b5c54a151d66651b209ef79de7d5225.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components'\n\nexport const ForgotStyles = styled.div`\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\t.box-recovery {\n\t\tpadding: 5rem 4rem;\n\t\tmargin: auto;\n\t\tbackground: #fff;\n\t\twidth: 100%;\n\t\tmax-width: 425px;\n\t\tbox-shadow: 0px 0px 10px #000000b3;\n\t\tborder-radius: 1rem;\n\t}\n\t.box-logo {\n\t\ttext-align: center;\n\t\t> img {\n\t\t\twidth: 220px;\n\t\t}\n\t}\n\th3 {\n\t\tfont-size: 1.8rem;\n\t\tcolor: #0b2370;\n\t\tpadding: 5rem 0 1rem;\n\t}\n\tinput {\n\t\twidth: 100%;\n\t\tborder: 1px solid #dddddd;\n\t\tborder-radius: 9px;\n\t\tpadding: 1rem;\n\t\tmargin-top: 1rem;\n\t}\n\t.error-message {\n\t\tpadding: 0.5rem;\n\t\tcolor: red;\n\t}\n\t.box-txt {\n\t\twidth: 100%;\n\n\t\tpadding: 2rem 0 1rem 0;\n\t\tp {\n\t\t\tcolor: #000000b3;\n\t\t\tfont-size: 1.3rem;\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n\t.box-next {\n\t\ttext-align: end;\n\t\tpadding: 1rem 0;\n\t\tposition: relative;\n\t\tbutton {\n\t\t\tposition: relative;\n\t\t\tborder: 2px solid #0b2370;\n\t\t\tborder-radius: 5px;\n\t\t\twidth: 172px;\n\t\t\theight: 43px;\n\t\t\tcolor: #0b2370;\n\t\t\tfont-size: 1.5rem;\n\t\t\tfont-weight: bold;\n\t\t\ttransition: background-color 0.5s linear;\n\t\t\tpointer-events: ${({ state }) => (state ? 'none' : 'auto')};\n\t\t\t&:hover {\n\t\t\t\tbackground-color: #0b2370;\n\t\t\t\tcolor: #fff;\n\t\t\t\tcursor: pointer;\n\t\t\t\t.box-loading::after {\n\t\t\t\t\tborder-top-color: #fff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.box-loading {\n\t\t\t::after {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tpadding: 5;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tborder: 4px solid transparent;\n\t\t\t\tborder-top-color: #0b2370;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tanimation: button-loading-spinner 1s ease infinite;\n\t\t\t}\n\t\t}\n\t}\n\n\t.box-sent-email {\n\t\tpadding: 2rem 0 1rem 0;\n\t\t.text-message {\n\t\t\tfont-size: 1.5rem;\n\t\t\tcolor: #0b2370;\n\t\t}\n\t}\n\t@keyframes button-loading-spinner {\n\t\tfrom {\n\t\t\ttransform: rotate(0turn);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(1turn);\n\t\t}\n\t}\n`\n","import React, { useEffect } from 'react'\nimport { ForgotStyles } from './Forgot.styles'\nimport LogoAtalaya from 'assets/images/atalaya.svg'\nimport * as yup from 'yup'\nimport { useForm } from 'react-hook-form'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { serviceRecovery } from 'store/authApi'\nimport { AUTH_RECOVERY_INITIALIZED } from 'store/actions'\n\nconst schema = yup.object({\n\temail: yup\n\t\t.string()\n\t\t.email('Formato de usuario inválido')\n\t\t.required('El usuario es requerido')\n})\n\nconst Forgot = () => {\n\tconst dispatch = useDispatch()\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors }\n\t} = useForm({\n\t\tresolver: yupResolver(schema)\n\t})\n\tconst { loading, email } = useSelector((state) => state.auth)\n\n\tconst onSubmit = (data) => {\n\t\tlet client = window.location.host\n\t\tdispatch(serviceRecovery(data.email, client))\n\t}\n\n\tuseEffect(() => {\n\t\tdispatch({ type: AUTH_RECOVERY_INITIALIZED })\n\t}, [])\n\n\treturn (\n\t\t<ForgotStyles state={loading}>\n\t\t\t<div className='box-recovery'>\n\t\t\t\t<div className='box-logo'>\n\t\t\t\t\t<img src={LogoAtalaya} alt='' />\n\t\t\t\t</div>\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t\t{!email ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h3>Recupera tu cuenta</h3>\n\t\t\t\t\t\t\t<div className='box-txt'>\n\t\t\t\t\t\t\t\t<p>Ingresa tu corrreo electronico.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...(register && { ...register('email') })}\n\t\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className='container-message'>\n\t\t\t\t\t\t\t\t\t{errors && (\n\t\t\t\t\t\t\t\t\t\t<p className='error-message'>\n\t\t\t\t\t\t\t\t\t\t\t{errors?.email?.message}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='box-next'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclassName='button-loading'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t<span className='box-loading'></span>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<span>Siguiente</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h3>Correo electrónico enviado</h3>\n\t\t\t\t\t\t\t<div className='box-sent-email'>\n\t\t\t\t\t\t\t\t<p className='text-message'>\n\t\t\t\t\t\t\t\t\tHemos enviado un correo electrónico a{' '}\n\t\t\t\t\t\t\t\t\t{email} con un enlace para que recuperes el\n\t\t\t\t\t\t\t\t\tacceso a tu cuenta.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</ForgotStyles>\n\t)\n}\n\nexport default Forgot\n","import axios from 'axios'\n\nconst {\n\tAUTH_RECOVERY_LOADING,\n\tAUTH_RECOVERY_SUCCESS,\n\tAUTH_RECOVERY_ERROR,\n\tSNACKBAR_OPEN,\n\tLOGOUT\n} = require('./actions')\n\nconst serviceRecovery = (email, client) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: AUTH_RECOVERY_LOADING })\n\n\t\tawait axios.post(`/api/v1/auth/recovery`, {\n\t\t\tclient,\n\t\t\temail\n\t\t})\n\n\t\tdispatch({ type: AUTH_RECOVERY_SUCCESS, email })\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: SNACKBAR_OPEN,\n\t\t\tmessage: 'Not authorized',\n\t\t\tnavType: 'error'\n\t\t})\n\t\tdispatch({ type: AUTH_RECOVERY_ERROR })\n\t}\n}\n\nconst serviceChagePassword = (data) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: AUTH_RECOVERY_LOADING })\n\t\tlet { token, newPassword } = data\n\t\tawait axios.post(`/api/v1/auth/change-password-token`, {\n\t\t\ttoken,\n\t\t\tnewPassword\n\t\t})\n\t\tdispatch({ type: AUTH_RECOVERY_SUCCESS, updatedPassword: true })\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: SNACKBAR_OPEN,\n\t\t\tmessage: 'Not authorized',\n\t\t\tnavType: 'error'\n\t\t})\n\t\tdispatch({ type: AUTH_RECOVERY_ERROR })\n\t}\n}\nexport { serviceRecovery, serviceChagePassword }\n"],"names":["ForgotStyles","styled","state","schema","yup","email","required","dispatch","useDispatch","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","useSelector","auth","loading","useEffect","type","AUTH_RECOVERY_INITIALIZED","className","src","LogoAtalaya","alt","onSubmit","data","client","window","location","host","serviceRecovery","placeholder","name","message","require","AUTH_RECOVERY_LOADING","AUTH_RECOVERY_SUCCESS","AUTH_RECOVERY_ERROR","SNACKBAR_OPEN","LOGOUT","axios","navType","serviceChagePassword","token","newPassword","updatedPassword"],"sourceRoot":""}